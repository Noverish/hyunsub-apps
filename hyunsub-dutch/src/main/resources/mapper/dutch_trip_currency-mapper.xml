<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kim.hyunsub.dutch.mapper.DutchTripCurrencyMapper">
    <select id="selectByTripId" resultType="DutchTripCurrency">
        SELECT *
        FROM dutch_trip_currency
        WHERE trip_id = #{tripId}
    </select>

    <insert id="upsert">
        INSERT INTO dutch_trip_currency (trip_id, currency, rate, reg_dt)
        VALUES (#{tripId}, #{currency}, #{rate}, NOW())
        ON DUPLICATE KEY
        UPDATE rate = #{rate}
    </insert>
</mapper>
